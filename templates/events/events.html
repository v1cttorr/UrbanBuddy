{% extends 'base.html' %}

{% load widget_tweaks %}
{% load static %}

{% block title %}
    UrbanBuddy - Events
{% endblock title %}

{% block content %}

    <form method="GET" class="p-6">
        Events <br>
        <input type="text" name="search" placeholder="Search" class="border border-gray-300 rounded-lg p-2">
        <button type="submit" class="border border-gray-300 rounded-lg p-2">Search</button>
    </form>

    <br>

    <!-- Dodaj wydarzenie: -->
    <!-- <form method="POST">
        {% csrf_token %}
        {{form.as_p}}
        <input type="submit" value="Dodaj">
    </form> -->


    {% for event in events %}
    <div name="element" onclick='window.location="{{event.id}}/"' class="bg-white flex flex-row gap-5 shadow-md p-4 rounded-lg items-center" style="background-color: white; margin: 10px;">
        <div name="user" class="flex flex-row items-center">
            <img src="{% static 'img/p2.png' %}" class="h-12" alt="user" height="48px" width="48px">
            <p class="font-normal font-Poppins text-md">{{event.title}}</p>
        </div>
        <div name="destination" class="rounded-lg flex flex-row items-center p-4" style="background-color: #cccccc;">
            <p>From: <span>{{event.location}}</span></p>
        </div>
        <div name="destination" class="rounded-lg flex flex-row items-center p-4" style="background-color: #cccccc;">
            <p>To: <span>{{event.category}}</span></p>
        </div>
        <div name="destination" class="rounded-lg flex flex-row items-center p-4" style="background-color: #cccccc;">
            <p>Date: <span>{{event.date|date:"d.m.Y"}}</span></p>
        </div>
        <div name="destination" class="rounded-lg flex flex-row items-center p-4" style="background-color: #cccccc;">
            <p>Time: <span>{{event.date|date:"H:i"}}</span></p>
        </div>
    
        <div name="Join" class="rounded-lg flex flex-row items-center p-4 px-6" style="background-color: black; margin-left: auto;">
            <p class="text-white">See</p>
        </div>
    </div>
    {% endfor %}



    <div class="max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-lg">
        <h1 class="text-2xxl font-semibold text-gray-800 mb-6" style="font-size: 30px;">Create Event</h1>
        
        <form method="POST">
            {% csrf_token %}
            <!-- Title Field -->
            <div class="mb-4">
                <label for="title" class="block text-gray-700 font-medium">Event Title</label>
                <!-- <input type="text" id="title" name="title" class="w-full mt-2 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter event title"> -->
                {% render_field form.title id="title" name="title" class="w-full mt-2 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter event title" %}
            </div>
    
            <!-- Description Field -->
            <div class="mb-4">
                <label for="desc" class="block text-gray-700 font-medium">Description</label>
                <!-- <textarea id="desc" name="desc" rows="4" class="w-full mt-2 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Describe the event"></textarea> -->
                {% render_field form.description id="desc" name="desc" rows="4" class="w-full mt-2 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Describe the event" %}
            </div>
    
            <!-- Category Field -->
            <div class="mb-4">
                <label for="category" class="block text-gray-700 font-medium">Category</label>
                <!-- <select id="category" name="category" class="w-full mt-2 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="">Select Category</option>
                    <option value="conference">Conference</option>
                    <option value="workshop">Workshop</option>
                    <option value="seminar">Seminar</option>
                    <option value="webinar">Webinar</option>
                </select> -->
                {% render_field form.category id="category" name="category" class="w-full mt-2 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" %}
            </div>
    
            <!-- Date Field -->
            <div class="mb-4">
                <label for="date" class="block text-gray-700 font-medium">Event Date</label>
                <!-- <input type="date" id="date" name="date" class="w-full mt-2 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"> -->
                {% render_field form.date type="date" id="date" name="date" class="w-full mt-2 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" %}
            </div>
    
            <!-- Location Field -->
            <div class="mb-6">
                <label for="location" class="block text-gray-700 font-medium">Event Location</label>
                <!-- <input type="text" id="location" name="location" class="w-full mt-2 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter event location"> -->
                {% render_field form.location id="location" name="location" class="w-full mt-2 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter event location" %}
            </div>
    
            <!-- Submit Button -->
            <div class="flex justify-end">
                <button type="submit" style="background-color: #000; color: #fff; padding: 10px;" class="px-6 py-2 rounded-lg">
                    Create Event
                </button>
            </div>
        </form>
    </div>


    <!-- {% comment %}
    {% for category in event_categorys %}
        <h3>{{category.name}}</h3>

        {% for event in category.get_events %}
            <a href="{{event.pk}}/">{{event.title}}</a>
            <br> <br>
        {% endfor %}

    {% endfor %}
    {% endcomment %} -->

    

{% endblock %}